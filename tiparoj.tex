% This file is used to test whether
% the following fonts exist:
% - [Source Han Serif CN](https://mirrors.tuna.tsinghua.edu.cn/adobe-fonts/source-han-serif/SubsetOTF/CN/)
% - [Sarasa Mono SC](https://mirrors.tuna.tsinghua.edu.cn/github-release/be5invis/Sarasa-Gothic/LatestRelease/)
% - [XITS](https://ctan.org/pkg/xits)
% - [Fira Sans](https://ctan.org/pkg/fira)
% - [XITS Math](https://ctan.org/pkg/xits)
% - [TeX Gyre Termes Math](https://ctan.org/pkg/tex-gyre-math-termes)
% - [STIX Two Math](https://ctan.org/pkg/stix2-otf)

% You can compile the document with:
% latexmk -xelatex -file-line-error -interaction=nonstopmode -halt-on-error -silent -g tiparoj
%
% If you prefer LuaLaTeX, you can also run:
% latexmk -lualatex -file-line-error -interaction=nonstopmode -halt-on-error -silent -g tiparoj
%

\documentclass[%
    UTF8,%
    fontset=none,%
    oneside,%
]{ctexbook}

\setmainfont{XITS}
\setsansfont{Fira Sans}[
    UprightFont = * Light,
    BoldFont = * SemiBold,
    ItalicFont = * Light Italic,
    BoldItalicFont = * SemiBold Italic
]
\setmonofont{Sarasa Mono SC}[
    UprightFont = * Light,
    BoldFont = * SemiBold,
    ItalicFont = * Light Italic,
    BoldItalicFont = * SemiBold Italic
]
\setCJKmainfont{Source Han Serif CN}[
    UprightFont = * Light,
    BoldFont = Sarasa Mono SC SemiBold,
    ItalicFont = Sarasa Mono SC Light Italic,
    BoldItalicFont = Sarasa Mono SC SemiBold Italic
]
\setCJKsansfont{Sarasa Mono SC}[
    UprightFont = * Light,
    BoldFont = * SemiBold,
    ItalicFont = * Light Italic,
    BoldItalicFont = * SemiBold Italic
]
\setCJKmonofont{Sarasa Mono SC}[
    UprightFont = * Light,
    BoldFont = * SemiBold,
    ItalicFont = * Light Italic,
    BoldItalicFont = * SemiBold Italic
]

\usepackage[
    math-style=ISO,
    bold-style=ISO,
    mathrm=sym,
    mathbf=sym,
    partial=upright,
    warnings-off={mathtools-colon,mathtools-overbracket}
]{unicode-math}
\allowdisplaybreaks[3]
% Standing-up-straight integral symbol (For XITS Math).
\setmathfont{XITS Math}[StylisticSet=8]
\setmathfont{TeX Gyre Termes Math}[range=bb/{latin,Latin}]
\setmathfont{STIX Two Math}[range={"2218-"2218}]

% https://clagnut.com/blog/2380
\newcommand*{\TextA}{今国意我永然警转酬随风鹰.}
\newcommand*{\TextC}{三今力国愛書東永袋酬鬱鷹.}
\newcommand*{\TextJ}{いろはにほへと ちりぬるを わかよたれそ つねならむ うゐのおくやま けふこえて あさきゆめみし ゑひもせす(ん).}
\newcommand*{\TextK}{키스의 고유조건은 입술끼리 만나야 하고 특별한 기술은 필요치 않다.}
\newcommand*{\TextD}{Pa's wijze lynx bezag vroom het fikse aquaduct.}
\newcommand*{\TextE}{Eble ĉiu kvazaŭ-deca fuŝĥoraĵo ĝojigos homtipon.}
\newcommand*{\TextU}{The quick brown fox jumped over the lazy dogs.}
\newcommand*{\TextG}{Ο καλύμνιος σφουγγαράς ψιθύρισε πως θα βουτήξει χωρίς να διστάζει.}
\newcommand*{\TextN}{9,876; 543,210.}
\newcommand*{\TextR}{Широкая электрификация южных губерний даст мощный толчок подъёму сельского хозяйства.}
\newcommand*{\Text}{%
\TextA{}

\TextC{}

\TextJ{}

\TextK{}

\TextE{}

% \TextD{}

\TextU{}

\TextG{}

\TextR{}

\TextN{}%
}

\makeatletter
\providecommand*{\midsloppy}{%
    \tolerance 5000%
    \hbadness 4000%
    \emergencystretch 1.5em%
    \hfuzz .1\p@%
    \vfuzz\hfuzz}
\makeatother

\begin{document}

\midsloppy

\begingroup
\normalfont\rmfamily\mdseries\upshape\Text

\vspace{2ex}

\normalfont\rmfamily\bfseries\upshape\Text

\vspace{2ex}

\normalfont\rmfamily\mdseries\itshape\Text

\vspace{2ex}

\normalfont\rmfamily\bfseries\itshape\Text

\vspace{2ex}

\normalfont\sffamily\mdseries\upshape\Text

\vspace{2ex}

\normalfont\sffamily\bfseries\upshape\Text

\vspace{2ex}

\normalfont\sffamily\mdseries\itshape\Text

\vspace{2ex}

\normalfont\sffamily\bfseries\itshape\Text

\vspace{2ex}

\normalfont\ttfamily\mdseries\upshape\Text

\vspace{2ex}

\normalfont\ttfamily\bfseries\upshape\Text

\vspace{2ex}

\normalfont\ttfamily\mdseries\itshape\Text

\vspace{2ex}

\normalfont\ttfamily\bfseries\itshape\Text

\normalfont

\endgroup

% XITS Math
\begin{equation*}
    a^3 + b^3 + c^3 - 3abc
    = (a + b + c)(a^2 + b^2 + c^2 - ab - bc - ca)
\end{equation*}

% TeX Gyre Termes Math
\begin{equation*}
    \mathbb{N}
    \subset \mathbb{Z}
    \subset \mathbb{Q}
    \subset \mathbb{R}
    \subset \mathbb{C}
\end{equation*}

% STIX Two Math
\begin{equation*}
    (h \circ g) \circ f = h \circ (g \circ f)
\end{equation*}

\end{document}
